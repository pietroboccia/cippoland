import{r as m,g as x}from"./phaser-BOgQtUoh.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}})();var O=m();const n=x(O),v={type:n.AUTO,width:800,height:600,parent:"game-container",backgroundColor:"#eee",physics:{default:"arcade",arcade:{gravity:{y:300}}},scene:{preload:w,create:P,update:B}};new n.Game(v);const u=[10,20,50,100,50,20,10,5];let r,h=!1,y=0,f=0,b;function w(){this.load.image("ball","images/ball.svg"),this.load.image("peg","images/peg.svg"),this.load.image("launcher","images/launcher.svg")}function P(){this.pegs=this.physics.add.staticGroup();const o=(i,e)=>{let t,s,a=!1;for(;!a;)t=n.Math.Between(50,750),s=n.Math.Between(300,550),a=!0,this.pegs.getChildren().forEach(p=>{n.Math.Distance.Between(t,s,p.x,p.y)<40&&(a=!1)});const d=this.pegs.create(t,s,"peg");return d.body.setCircle(20),d.body.setOffset(0,0),{x:t,y:s}};o(),o(),o(),o(),o(),o(),this.ball=null,r=this.add.sprite(400,50,"launcher"),r.setOrigin(.5,.5),this.input.on("pointermove",i=>{const e=n.Math.Angle.Between(r.x,r.y,i.x,i.y);r.setRotation(e)}),this.input.on("pointerdown",i=>{if(this.ball&&(this.ball.destroy(),h=!1),!h){h=!0,c.forEach(t=>{t.setFill("#000")}),this.ball=this.physics.add.sprite(r.x,r.y,"ball"),this.ball.body.setCircle(25),this.ball.body.setOffset(0,0),this.ball.setBounce(.8),this.ball.setCollideWorldBounds(!0),this.ball.body.onWorldBounds=!0,this.physics.add.collider(this.ball,this.pegs,(t,s)=>{if(s){const{x:a,y:d}=s;s.destroy(),o(),y++,f+=10,g()}});const e=this.physics.velocityFromRotation(r.rotation,400);this.ball.setVelocity(e.x,e.y)}});const l=800/u.length;let c=[];u.forEach((i,e)=>{const t=l*e+l/2,a=this.add.text(t,580,i.toString(),{font:"16px Arial",fill:"#000",align:"center"}).setOrigin(.5,.5);if(c.push(a),e>0){const d=l*e;this.add.line(d,600,0,0,0,-20,0).setOrigin(.5,.5)}}),L(this),this.physics.world.on("worldbounds",i=>{if(i.gameObject===this.ball&&this.ball.body.blocked.down){this.ball.setVelocity(0,0),this.ball.setBounce(0),this.ball.setAlpha(.5),h=!1;const e=Math.floor(this.ball.x/l);f+=u[e],g(),c[e].setFill("#f00"),this.ball.body.onWorldBounds=!1}})}function B(){}function L(o){b=o.add.text(750,20,`Pegs Hit: 0
Total Score: 0`,{font:"16px Arial",fill:"#000",align:"right"}).setOrigin(1,0)}function g(){b.setText(`Pegs Hit: ${y}
Total Score: ${f}`)}
